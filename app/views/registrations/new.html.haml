%h2 Sign up

= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f|
  = devise_error_messages!
  - params[:key] ? key = params[:key].split('-')[1] : nil
  - unless key == "7403214027"
    %div
      = f.radio_button :user_type, "director"
      = f.label :user_director, "Director"

  - if key == "7403214027"
    = hidden_field_tag(:access, params[:key])
    %h4  New Coach Sign Up
    %div
      = f.label :first_name
      %br/
      = f.text_field :first_name, :autofocus => true

    %div
      = f.label :last_name
      %br/
      = f.text_field :last_name

    %div
      = f.label :username
      %br/
      = f.text_field :username

    %div
      = f.label :email
      %br/
      = f.text_field :email

    %div
      = f.label :password
      %br/
      = f.password_field :password
    %div
      = f.label :password_confirmation
      %br/
      = f.password_field :password_confirmation

    %div
      = f.submit "Sign up"

  - else

    %div
      = f.label :username
      %br/
      = f.text_field :username, :autofocus => true
    %div
      = f.label :email
      %br/
      = f.email_field :email
    %div
      = f.label :password
      %br/
      = f.password_field :password
    %div
      = f.label :password_confirmation
      %br/
      = f.password_field :password_confirmation
    %div= f.submit "Sign up", class: "no_ajaxify"
  = render "devise/shared/links"